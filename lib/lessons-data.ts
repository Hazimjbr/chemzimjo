// Lesson data types and content

export interface Lesson {
    id: string;
    number: number;
    title: string;
    description: string;
    duration: string;
    difficulty: 'سهل' | 'متوسط' | 'صعب';
    objectives: string[];
    content: LessonSection[];
    keyPoints: string[];
    equations?: ChemicalEquation[];
}

export interface LessonSection {
    title: string;
    content: string;
    type: 'text' | 'equation' | 'example' | 'warning' | 'info' | 'molecule' | 'animation';
}

export interface ChemicalEquation {
    reactants: string;
    products: string;
    description: string;
}

export const lessons: Lesson[] = [
    {
        id: 'intro-acids-bases',
        number: 1,
        title: 'مقدمة في الحموض والقواعد',
        description: 'استكشاف المفاهيم الأساسية للحموض والقواعد، وتطور نظريات تعريفها من أرهينيوس إلى برونستد-لوري.',
        duration: '45 دقيقة',
        difficulty: 'سهل',
        objectives: [
            'توضيح مفهوم الحمض والقاعدة حسب نظرية أرهينيوس',
            'توضيح مفهوم الحمض والقاعدة حسب نظرية برونستد-لوري',
            'تحديد الأزواج المترافقة في تفاعلات الحموض والقواعد',
            'المقارنة بين النظريتين وتوضيح أوجه القصور في نظرية أرهينيوس'
        ],
        content: [
            {
                title: 'مفهوم أرهينيوس (Arrhenius Concept)',
                type: 'text',
                content: 'في عام 1887، اقترح الكيميائي سفانت أرهينيوس أول نظرية علمية لتفسير سلوك الحموض والقواعد. \n\n**تعريف الحمض:** مادة تتفكك في الماء لتنتج أيونات الهيدروجين (H⁺).\nمثال: HCl → H⁺ + Cl⁻\n\n**تعريف القاعدة:** مادة تتفكك في الماء لتنتج أيونات الهيدروكسيد (OH⁻).\nمثال: NaOH → Na⁺ + OH⁻'
            },
            {
                title: 'جزيء حمض الهيدروكلوريك (HCl)',
                type: 'molecule',
                content: 'hcl'
            },
            {
                title: 'أوجه القصور في نظرية أرهينيوس',
                type: 'warning',
                content: '1. اقتصر التعريف على المحاليل المائية فقط.\n2. لم يستطع تفسير قاعدية بعض المواد التي لا تحتوي على OH⁻ مثل الأمونيا (NH₃).\n3. أيون H⁺ لا يوجد منفرداً في المحلول المائي بل يرتبط مع الماء مكوناً أيون الهيدرونيوم (H₃O⁺).'
            },
            {
                title: 'نظرية برونستد-لوري (Bronsted-Lowry Theory)',
                type: 'text',
                content: 'في عام 1923، قدم العالمان برونستد ولوري تعريفاً أكثر شمولاً:\n\n**الحمض:** مادة (جزيء أو أيون) قادرة على منح بروتون (H⁺) لمادة أخرى (مانح للبروتون).\n**القاعدة:** مادة (جزيء أو أيون) قادرة على استقبال بروتون (H⁺) من مادة أخرى (مستقبل للبروتون).\n\nهذا التعريف يشمل التفاعلات في الوسط المائي وغير المائي.'
            },
            {
                title: 'مثال تفاعلي: تفاعل HCl مع NaOH',
                type: 'animation',
                content: 'hcl_naoh'
            },
            {
                title: 'الأزواج المترافقة (Conjugate Pairs)',
                type: 'info',
                content: 'لكل حمض قاعدة مرافقة (ناتجة عن فقد البروتون)، ولكل قاعدة حمض مرافق (ناتج عن كسب البروتون).\n\nفي التفاعل: NH₃ + H₂O ⇌ NH₄⁺ + OH⁻\n- NH₃ (قاعدة) و NH₄⁺ (حمض مرافق) يشكلان زوجاً مترافقة.\n- H₂O (حمض) و OH⁻ (قاعدة مرافقة) يشكلان زوجاً مترافقة.'
            }
        ],
        keyPoints: [
            'حمض أرهينيوس ينتج H⁺ في الماء.',
            'قاعدة أرهينيوس تنتج OH⁻ في الماء.',
            'حمض برونستد-لوري مانح للبروتون.',
            'قاعدة برونستد-لوري مستقبل للبروتون.',
            'الأزواج المترافقة تختلف عن بعضها ببروتون واحد فقط.'
        ],
        equations: [
            { reactants: 'HCl(aq)', products: 'H⁺(aq) + Cl⁻(aq)', description: 'تأين حمض قوي (أرهينيوس)' },
            { reactants: 'NH₃(g) + HCl(g)', products: 'NH₄Cl(s)', description: 'تفاعل حمض-قاعدة (برونستد-لوري) بدون ماء' }
        ]
    },
    {
        id: 'acid-properties',
        number: 2,
        title: 'خصائص وتفاعلات الحموض',
        description: 'دراسة مفصلة للخصائص الفيزيائية والكيميائية للحموض، وتفاعلاتها المميزة مع الفلزات والكربونات.',
        duration: '50 دقيقة',
        difficulty: 'متوسط',
        objectives: [
            'تعداد الخصائص الفيزيائية العامة للحموض',
            'كتابة معادلات كيميائية موزونة لتفاعلات الحموض مع الفلزات',
            'كتابة معادلات كيميائية موزونة لتفاعلات الحموض مع الكربونات',
            'التمييز بين تأين الحموض القوية والضعيفة كهربائياً'
        ],
        content: [
            {
                title: 'الخصائص الفيزيائية',
                type: 'text',
                content: '1. **الطعم:** طعمها حامض (لاذع). (تحذير: لا تتذوق المواد الكيميائية!).\n2. **التوصيل الكهربائي:** محاليلها توصل التيار الكهربائي لأنها تتأين إلى أيونات موجبة وسالبة.\n3. **تأثير الكواشف:** تحول ورقة تباع الشمس الأزرق إلى الأحمر.'
            },
            {
                title: 'التفاعل مع الفلزات النشطة',
                type: 'example',
                content: 'تتفاعل الحموض مع الفلزات التي تقع فوق الهيدروجين في سلسلة النشاط (مثل Na, Mg, Zn) وينتج ملح الفلز ويتصاعد غاز الهيدروجين.\n\nالمعادلة العامة:\nحمض + فلز ← ملح + غاز الهيدروجين'
            },
            {
                title: 'مثال: تفاعل الخارصين مع حمض الهيدروكلوريك',
                type: 'animation',
                content: 'zn_hcl'
            },
            {
                title: 'التفاعل مع الكربونات والكربونات الهيدروجينية',
                type: 'info',
                content: 'عند تفاعل الحمض مع كربونات الفلز (مثل Na₂CO₃) أو الكربونات الهيدروجينية (مثل NaHCO₃)، ينتج ملح وماء ويتصاعد غاز ثاني أكسيد الكربون (CO₂) الذي يعكر ماء الجير.'
            },
            {
                title: 'جزيء حمض الأسيتيك (الخل)',
                type: 'molecule',
                content: 'ch3cooh'
            }
        ],
        keyPoints: [
            'الحموض توصل التيار الكهربائي.',
            'الحمض + فلز نشط ← ملح + H₂.',
            'الحمض + كربونات ← ملح + ماء + CO₂.',
            'غاز H₂ يشتعل بفرقعة، وغاز CO₂ يعكر ماء الجير.'
        ],
        equations: [
            { reactants: 'Mg(s) + 2HCl(aq)', products: 'MgCl₂(aq) + H₂(g)', description: 'تفاعل المغنيسيوم مع حمض HCl' },
            { reactants: 'CaCO₃(s) + 2HNO₃(aq)', products: 'Ca(NO₃)₂(aq) + H₂O(l) + CO₂(g)', description: 'تفاعل الكربونات مع حمض النيتريك' }
        ]
    },
    {
        id: 'base-properties',
        number: 3,
        title: 'خصائص وتفاعلات القواعد',
        description: 'التعرف على صفات القواعد الفيزيائية والكيميائية وأهم استخداماتها الصناعية والمنزلية.',
        duration: '50 دقيقة',
        difficulty: 'متوسط',
        objectives: [
            'تعداد الخصائص الفيزيائية للقواعد',
            'التمييز بين القاعدة والقلوي',
            'ذكر أمثلة على قواعد شائعة واستخداماتها',
            'فهم سلوك الأكاسيد القاعدية'
        ],
        content: [
            {
                title: 'الخصائص العامة',
                type: 'text',
                content: '1. **الطعم والملمس:** طعمها مر، وملمسها زلق (صابوني).\n2. **تأثير الكواشف:** تحول ورقة تباع الشمس الأحمر إلى الأزرق.\n3. **التوصيل الكهربائي:** محاليلها توصل التيار الكهربائي لتفككها لأيونات.\n\n**القلوي (Alkali):** هو القاعدة التي تذوب في الماء.'
            },
            {
                title: 'جزيء هيدروكسيد الصوديوم (NaOH)',
                type: 'molecule',
                content: 'naoh'
            },
            {
                title: 'أكاسيد وهيدروكسيدات الفلزات',
                type: 'info',
                content: 'أكاسيد الفلزات (مثل MgO, CaO) تعتبر أكاسيد قاعدية لأنها تتفاعل مع الماء لتكون هيدروكسيدات، أو تتفاعل مع الحموض لتكون ملح وماء.'
            },
            {
                title: 'تطبيقات حياتية وصناعية',
                type: 'example',
                content: '- **هيدروكسيد الصوديوم (NaOH):** صناعة الصابون، تنظيف المصارف.\n- **هيدروكسيد الكالسيوم (Ca(OH)₂):** طلاء سيقان الأشجار، معالجة حموضة التربة.\n- **الأمونيا (NH₃):** صناعة الأسمدة، سوائل تنظيف الزجاج.\n- **هيدروكسيد المغنيسيوم (Mg(OH)₂):** دواء لعلاج حموضة المعدة.'
            }
        ],
        keyPoints: [
            'القواعد تحول تباع الشمس للأزرق.',
            'القلوي هو قاعدة ذائبة في الماء.',
            'أكاسيد الفلزات هي أكاسيد قاعدية.',
            'تستخدم القواعد بكثرة في مواد التنظيف والزراعة.'
        ],
        equations: [
            { reactants: 'CaO(s) + H₂O(l)', products: 'Ca(OH)₂(aq)', description: 'تكون الجير المطفأ' },
            { reactants: 'NH₃(g) + H₂O(l)', products: 'NH₄⁺(aq) + OH⁻(aq)', description: 'تأين الأمونيا في الماء' }
        ]
    },
    {
        id: 'ph-scale',
        number: 4,
        title: 'الرقم الهيدروجيني (pH) والحسابات',
        description: 'فهم عميق لمقياس pH و pOH، والعلاقة بينهما، وإجراء الحسابات الكيميائية المتعلقة بتركيز الأيونات.',
        duration: '60 دقيقة',
        difficulty: 'صعب',
        objectives: [
            'تعريف الرقم الهيدروجيني pH والرقم الهيدروكسيلي pOH',
            'إجراء حسابات pH للأحماض والقواعد القوية',
            'فهم العلاقة بين [H₃O⁺] و [OH⁻] وثابت تأين الماء Kw'
        ],
        content: [
            {
                title: 'التأين الذاتي للماء',
                type: 'text',
                content: 'الماء النقي موصل ضعيف جداً للكهرباء لأنه يتأين ذاتياً بدرجة ضئيلة جداً.\n\n2H₂O(l) ⇌ H₃O⁺(aq) + OH⁻(aq)\n\nثابت تأين الماء (Kw) عند 25°C يساوي 1 × 14⁻¹⁰.\nKw = [H₃O⁺][OH⁻] = 1 × 10⁻¹⁴'
            },
            {
                title: 'مقياس pH',
                type: 'info',
                content: 'طريقة للتعبير عن حموضة المحلول باستخدام اللوغاريتم السالب لتركيز أيون الهيدرونيوم.\n\npH = -log[H₃O⁺]\n\n- المحلول المتعادل: pH = 7\n- المحلول الحمضي: pH < 7\n- المحلول القاعدي: pH > 7'
            },
            {
                title: 'مقياس pOH والعلاقة مع pH',
                type: 'example',
                content: 'يمكن التعبير عن القاعدية باستخدام pOH:\npOH = -log[OH⁻]\n\nالعلاقة الذهبية:\npH + pOH = 14'
            },
            {
                title: 'حسابات الأحماض القوية',
                type: 'warning',
                content: 'في الأحماض القوية أحادية البروتون (مثل HCl, HNO₃)، يكون تركيز [H₃O⁺] مساوياً لتركيز الحمض الأصلي لأنه يتأين كلياً.\n\nمثال: احسب pH لمحلول HCl بتركيز 0.01M.\nالحل: [H₃O⁺] = 0.01 = 10⁻²\npH = -log(10⁻²) = 2'
            }
        ],
        keyPoints: [
            'Kw = 1 × 10⁻¹⁴ عند 25 س.',
            'زيادة [H₃O⁺] تقلل قيمة pH.',
            'مجموع pH و pOH يساوي دائماً 14.',
            'الأحماض القوية تتأين كلياً وتركيز أيوناتها يساوي تركيزها.'
        ],
        equations: [
            { reactants: 'pH', products: '-log[H₃O⁺]', description: 'قانون الرقم الهيدروجيني' },
            { reactants: '[H₃O⁺][OH⁻]', products: '1 × 10⁻¹⁴', description: 'ثابت تأين الماء Kw' }
        ]
    },
    {
        id: 'acid-base-reactions',
        number: 5,
        title: 'تفاعلات التعادل والمعايرة',
        description: 'دراسة تفاعلات التعادل الكمية والنوعية، ومفهوم المعايرة لتحديد تركيز مجهول.',
        duration: '60 دقيقة',
        difficulty: 'صعب',
        objectives: [
            'كتابة معادلات أيونية لتفاعلات التعادل',
            'شرح مفهوم المعايرة ونقطة التكافؤ',
            'إجراء حسابات المعايرة وتحديد تراكيز مجهولة'
        ],
        content: [
            {
                title: 'تفاعل التعادل (Neutralization)',
                type: 'text',
                content: 'هو تفاعل بين محلول حمضي ومحلول قاعدي بهدف الوصول إلى حالة التعادل. الأيونات المسؤولة عن الصفة الحمضية (H⁺) تتحد مع الأيونات المسؤولة عن الصفة القاعدية (OH⁻) لتكوين الماء.\n\nالمعادلة الأيونية الصافية للتعادل:\nH⁺(aq) + OH⁻(aq) → H₂O(l)'
            },
            {
                title: 'محاكاة تفاعل التعادل',
                type: 'animation',
                content: 'hcl_naoh'
            },
            {
                title: 'المعايرة (Titration)',
                type: 'info',
                content: 'عملية مخبرية تستخدم لتحديد تركيز محلول مجهول (حمض مثلاً) باستخدام محلول معلوم التركيز (قاعدة قياسية).\n\n**نقطة التكافؤ:** النقطة التي يتساوى فيها عدد مولات أيونات الهيدرونيوم من الحمض مع عدد مولات أيونات الهيدروكسيد من القاعدة.\n**نقطة النهاية:** النقطة التي يتغير فيها لون الكاشف، وتكون قريبة جداً من نقطة التكافؤ.'
            },
            {
                title: 'أنواع الأملاح الناتجة',
                type: 'example',
                content: '1. **ملح متعادل:** ناتج من حمض قوي + قاعدة قوية (NaCl).\n2. **ملح حمضي:** ناتج من حمض قوي + قاعدة ضعيفة (NH₄Cl).\n3. **ملح قاعدي:** ناتج من حمض ضعيف + قاعدة قوية (CH₃COONa).'
            }
        ],
        keyPoints: [
            'التعادل هو اتحاد H⁺ مع OH⁻.',
            'المعايرة تحدد التركيز المجهول.',
            'عند نقطة التكافؤ: مولات الحمض = مولات القاعدة (لأحادية التكافؤ).',
            'طبيعة الملح الناتج تعتمد على قوة الحمض والقاعدة.'
        ],
        equations: [
            { reactants: 'HCl + NaOH', products: 'NaCl + H₂O', description: 'تعادل حمض قوي مع قاعدة قوية' },
            { reactants: 'M₁V₁', products: 'M₂V₂', description: 'قانون المعايرة (عند نسبة 1:1)' }
        ]
    },
    {
        id: 'indicators',
        number: 6,
        title: 'الكواشف والرقم الهيدروجيني',
        description: 'كيف تعمل الكواشف؟ وما هي أنواعها وكيف نختار الكاشف المناسب للمعايرة؟',
        duration: '45 دقيقة',
        difficulty: 'سهل',
        objectives: [
            'تعريف الكاشف ومبدأ عمله',
            'ذكر أمثلة على كواشف شائعة وألوانها في الأوساط المختلفة',
            'اختيار الكاشف المناسب لتفاعل معايرة محدد'
        ],
        content: [
            {
                title: 'ما هو الكاشف؟',
                type: 'text',
                content: 'الكواشف (Indicators) هي حموض عضوية ضعيفة أو قواعد عضوية ضعيفة يتغير لونها بتغير قيمة pH للوسط الذي توجد فيه. يرمز للكاشف الحمضي بالرمز HIn.\n\nمعادلة تفكك الكاشف:\nHIn(aq) + H₂O(l) ⇌ In⁻(aq) + H₃O⁺(aq)\n(لون 1) .................... (لون 2)'
            },
            {
                title: 'أمثلة على الكواشف',
                type: 'example',
                content: '| الكاشف | اللون في الحمض | اللون في القاعدة | مدى pH |\n|---|---|---|---|\n| تباع الشمس | أحمر | أزرق | 5.0 - 8.0 |\n| الميثيل البرتقالي | أحمر | أصفر | 3.1 - 4.4 |\n| الفينولفثالين | عديم اللون | وردي | 8.2 - 10.0 |'
            },
            {
                title: 'اختيار الكاشف للمعايرة',
                type: 'warning',
                content: 'يجب اختيار كاشف يتغير لونه (مدى pH له) ضمن النطاق الذي يحدث فيه التغير المفاجئ في pH عند نقطة التكافؤ.\n- لمعايرة حمض قوي مع قاعدة قوية: يصلح أي كاشف (مثل الفينولفثالين).\n- لمعايرة حمض ضعيف مع قاعدة قوية: نستخدم الفينولفثالين (مدى قاعدي).'
            }
        ],
        keyPoints: [
            'الكاشف هو حمض ضعيف أو قاعدة ضعيفة.',
            'لون الكاشف يعتمد على تركيز HIn و In⁻.',
            'الفينولفثالين مناسب لمعايرة الحموض الضعيفة مع القواعد القوية.'
        ],
        equations: [
            { reactants: 'HIn + H₂O', products: 'H₃O⁺ + In⁻', description: 'معادلة اتزان الكاشف' }
        ]
    },
    {
        id: 'strong-weak-acids-bases',
        number: 7,
        title: 'قوة الحموض والقواعد وثوابت التأين',
        description: 'التمييز الكمي بين القوي والضعيف باستخدام ثوابت التأين Ka و Kb وطرق حسابها.',
        duration: '60 دقيقة',
        difficulty: 'صعب',
        objectives: [
            'التمييز بين التأين الكلي والجزئي',
            'تعريف ثابت تأين الحمض Ka وثابت تأين القاعدة Kb',
            'إجراء حسابات الاتزان للحموض والقواعد الضعيفة'
        ],
        content: [
            {
                title: 'الحموض القوية والضعيفة',
                type: 'text',
                content: '**الحمض القوي:** يتأين كلياً في الماء، ويكون التفاعل غير منعكس (سهم واحد). مثال: HCl, HBr, HNO₃.\n\n**الحمض الضعيف:** يتأين جزئياً، ويكون التفاعل منعكساً (سهمين متعاكسين). مثال: CH₃COOH, HF.'
            },
            {
                title: 'ثابت تأين الحمض (Ka)',
                type: 'info',
                content: 'مقياس كمي لقوة الحمض الضعيف.\nكلما زادت قيمة Ka، زادت قوة الحمض، وزاد تركيز H₃O⁺.\n\nKa = [H₃O⁺][A⁻] / [HA]'
            },
            {
                title: 'جزيء الأمونيا (قاعدة ضعيفة)',
                type: 'molecule',
                content: 'nh3'
            },
            {
                title: 'ثابت تأين القاعدة (Kb)',
                type: 'info',
                content: 'مقياس لقوة القاعدة الضعيفة. كلما زادت Kb، زادت قوة القاعدة، وزاد تركيز OH⁻.\n\nللقاعدة B:\nB + H₂O ⇌ BH⁺ + OH⁻\nKb = [BH⁺][OH⁻] / [B]'
            }
        ],
        keyPoints: [
            'القوي يتأين 100%، الضعيف يتزن.',
            'Ka تعبر عن قوة الحمض، Kb تعبر عن قوة القاعدة.',
            'الحمض الأقوى له قاعدة مرافقة أضعف والعكس صحيح.'
        ],
        equations: [
            { reactants: 'Ka', products: '[N][P]/[R]', description: 'قانون ثابت التأين' }
        ]
    },
    {
        id: 'daily-applications',
        number: 8,
        title: 'تطبيقات حياتية: المطر الحمضي والمنظمات',
        description: 'كيف تؤثر الحموض والقواعد في البيئة وجسم الإنسان؟ دراسة المطر الحمضي والمحاليل المنظمة.',
        duration: '45 دقيقة',
        difficulty: 'سهل',
        objectives: [
            'توضيح أسباب وآثار المطر الحمضي',
            'شرح مفهوم المحلول المنظم (Buffer) وأهميته',
            'ذكر أمثلة على منظمات في جسم الإنسان'
        ],
        content: [
            {
                title: 'المطر الحمضي (Acid Rain)',
                type: 'text',
                content: 'هو مطر له pH أقل من 5.6. يتكون نتيجة تفاعل غازات أكاسيد الكبريت (SO₂) وأكاسيد النيتروجين (NOₓ) الناتجة من المصانع والسيارات مع بخار الماء في الجو لتكون حمض الكبريتيك والنيتريك.\n\nالآثار:\n1. تآكل المباني الحجرية (خاصة الجيرية).\n2. زيادة حموضة التربة والمياه، مما يقتل النباتات والأسماك.'
            },
            {
                title: 'المحاليل المنظمة (Buffer Solutions)',
                type: 'info',
                content: 'محاليل تقاوم التغير المفاجئ في الرقم الهيدروجيني pH عند إضافة كميات قليلة من حمض قوي أو قاعدة قوية إليها. تتكون عادة من حمض ضعيف وقاعدته المرافقة (أو العكس).'
            },
            {
                title: 'الدم كمحلول منظم',
                type: 'example',
                content: 'يجب أن يبقى pH الدم ثابتاً (حوالي 7.4). يحتوي الدم على نظام حمض الكربونيك/بيكريونات (H₂CO₃/HCO₃⁻) الذي يعمل كمنظم لامتصاص أي زيادة في الأحماض أو القواعد، مما يحافظ على الحياة.'
            }
        ],
        keyPoints: [
            'المطر الحمضي ناتج عن تلوث الهواء بـ SO₂ و NOₓ.',
            'المحلول المنظم يقاوم تغير pH.',
            'الدم يحتوي على نظام منظم طبيعي.'
        ],
        equations: [
            { reactants: 'SO₃ + H₂O', products: 'H₂SO₄', description: 'تكون حمض الكبريتيك في الجو' }
        ]
    }
];

export function getLessonById(id: string): Lesson | undefined {
    return lessons.find(lesson => lesson.id === id);
}

export function getLessonByNumber(number: number): Lesson | undefined {
    return lessons.find(lesson => lesson.number === number);
}

export function getNextLesson(currentId: string): Lesson | undefined {
    const currentIndex = lessons.findIndex(l => l.id === currentId);
    if (currentIndex > -1 && currentIndex < lessons.length - 1) {
        return lessons[currentIndex + 1];
    }
    return undefined;
}

export function getPrevLesson(currentId: string): Lesson | undefined {
    const currentIndex = lessons.findIndex(l => l.id === currentId);
    if (currentIndex > 0) {
        return lessons[currentIndex - 1];
    }
    return undefined;
}
